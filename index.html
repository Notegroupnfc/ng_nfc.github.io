<script>
const params = new URLSearchParams(window.location.search);
const id = params.get("id");
if (!id) {
  document.getElementById("status").innerText = "❌ Không tìm thấy ID!";
} else {
  const scriptUrl = "https://script.google.com/macros/s/AKfycbwjwNnH86JMc0QVkcNqiAm9HWD9eke_UXQVg2BMdNT1XyupkKOJSVbIx-yFizhFkxzB/exec";
  fetch(scriptUrl + "?id=" + encodeURIComponent(id) + "&source=nfc")
    .then(res => res.text())
    .then(html => {
      // Mở link do Apps Script trả về
      document.open();
      document.write(html);
      document.close();
    })
    .catch(err => {
      document.getElementById("status").innerText = "❌ Lỗi server";
      console.error(err);
    });
}
</script>
